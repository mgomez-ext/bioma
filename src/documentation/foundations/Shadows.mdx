import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Bioma 2.0/Fundamentos/Sombras" />

# Sombras

El sistema de sombras de Bioma 2.0 crea profundidad y jerarqu√≠a visual mediante una escala progresiva de elevaci√≥n. Incluye **drop shadows** (externas) e **inner shadows** (internas) para diferentes efectos de elevaci√≥n y profundidad.

## Principios Clave

- **Elevaci√≥n**: Sombras m√°s pronunciadas = mayor elevaci√≥n
- **Realismo sutil**: Sombras suaves y naturales, no artificiales
- **Consistencia**: Mismo nivel de sombra para componentes con igual jerarqu√≠a
- **Accesibilidad**: Las sombras son decorativas, no deben ser el √∫nico indicador

---

## Arquitectura de Tokens

```
Foundation Tokens (Nivel 1)
‚îî‚îÄ Shadows (12 tokens)
   ‚îú‚îÄ Drop Shadows (7 tokens): 3xs ‚Üí xl
   ‚îÇ  ‚îî‚îÄ Multi-layer para realismo
   ‚îî‚îÄ Inner Shadows (5 tokens): xs ‚Üí xl
      ‚îî‚îÄ Para efectos de profundidad interna
```

**Scope en Figma**: `EFFECT_FLOAT`

**‚ö†Ô∏è Nota**: Figma Variables a√∫n no soporta Effects complejos nativamente. Los shadows se mantienen como Styles en Figma pero se documentan aqu√≠ para uso en c√≥digo.

---

## Drop Shadows (Externas)

Sombras externas para crear sensaci√≥n de elevaci√≥n:

| Token | Uso Principal | Ejemplos |
|-------|---------------|----------|
| `shadow/drop-3xs` | **M√≠nima** | Hover sutil, divisores elevados |
| `shadow/drop-2xs` | **Muy sutil** | Badges, small components |
| `shadow/drop-xs` | Sutil | Inputs focus, chips |
| `shadow/drop-sm` | **Peque√±a** | Buttons, small cards |
| `shadow/drop-md` | **Est√°ndar** | Cards, dropdowns |
| `shadow/drop-lg` | **Elevada** | Modales, popovers |
| `shadow/drop-xl` | **M√°xima** | Dialogs, overlays importantes |

### CSS Variables - Drop Shadows

```css
:root {
  /* Drop Shadows - Progressive elevation */
  --shadow-drop-3xs: 0 1px 2px rgba(0, 0, 0, 0.04);

  --shadow-drop-2xs: 0 1px 3px rgba(0, 0, 0, 0.06);

  --shadow-drop-xs:
    0 2px 4px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.04);

  --shadow-drop-sm:
    0 4px 8px rgba(0, 0, 0, 0.08),
    0 2px 4px rgba(0, 0, 0, 0.04);

  --shadow-drop-md:
    0 8px 16px rgba(0, 0, 0, 0.10),
    0 4px 8px rgba(0, 0, 0, 0.06);

  --shadow-drop-lg:
    0 16px 32px rgba(0, 0, 0, 0.12),
    0 8px 16px rgba(0, 0, 0, 0.08);

  --shadow-drop-xl:
    0 24px 48px rgba(0, 0, 0, 0.16),
    0 12px 24px rgba(0, 0, 0, 0.10);
}
```

---

## Inner Shadows (Internas)

Sombras internas para crear efectos de profundidad y pressed states:

| Token | Uso Principal |
|-------|---------------|
| `shadow/inner-xs` | Pressed states sutiles |
| `shadow/inner-sm` | Input inset, wells |
| `shadow/inner-md` | Contenedores hundidos |
| `shadow/inner-lg` | Efectos de profundidad |
| `shadow/inner-xl` | Efectos dram√°ticos (raro) |

### CSS Variables - Inner Shadows

```css
:root {
  /* Inner Shadows - Inset depth */
  --shadow-inner-xs: inset 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-inner-sm: inset 0 2px 4px rgba(0, 0, 0, 0.08);
  --shadow-inner-md: inset 0 3px 6px rgba(0, 0, 0, 0.10);
  --shadow-inner-lg: inset 0 4px 8px rgba(0, 0, 0, 0.12);
  --shadow-inner-xl: inset 0 6px 12px rgba(0, 0, 0, 0.16);
}
```

---

## Uso por Componente

### Botones

```scss
.btn {
  box-shadow: var(--shadow-drop-sm);

  &:hover {
    box-shadow: var(--shadow-drop-md);  // Elevar en hover
  }

  &:active {
    box-shadow: var(--shadow-inner-xs);  // Hundir en pressed
  }
}
```

### Cards

```scss
.card {
  box-shadow: var(--shadow-drop-md);

  &:hover {
    box-shadow: var(--shadow-drop-lg);
  }
}
```

### Dropdowns y Popovers

```scss
.dropdown,
.popover {
  box-shadow: var(--shadow-drop-lg);
}
```

### Modales y Dialogs

```scss
.modal,
.dialog {
  box-shadow: var(--shadow-drop-xl);
}
```

### Inputs con Inner Shadow

```scss
.input {
  box-shadow: var(--shadow-inner-xs);

  &:focus {
    box-shadow: none;  // Remover inner en focus
    border-color: var(--border-focus);
  }
}
```

---

## Patrones de Interacci√≥n

### Elevaci√≥n en Hover

```scss
// Patr√≥n: Elevar componentes interactivos en hover
.interactive-card {
  box-shadow: var(--shadow-drop-sm);
  transition: box-shadow 0.2s ease;

  &:hover {
    box-shadow: var(--shadow-drop-md);
    transform: translateY(-2px);
  }
}
```

### Pressed State

```scss
// Patr√≥n: Hundir componentes en pressed/active
.btn {
  box-shadow: var(--shadow-drop-sm);

  &:active {
    box-shadow: var(--shadow-inner-xs);
    transform: translateY(1px);
  }
}
```

### Jerarqu√≠a Visual

```scss
// Diferentes niveles de elevaci√≥n para establecer jerarqu√≠a
.page-header {
  box-shadow: var(--shadow-drop-2xs); // Sutil
}

.card {
  box-shadow: var(--shadow-drop-md); // Est√°ndar
}

.floating-action-button {
  box-shadow: var(--shadow-drop-lg); // Elevada
}

.modal {
  box-shadow: var(--shadow-drop-xl); // M√°xima jerarqu√≠a
}
```

---

## Gu√≠a de Decisi√≥n

**¬øQu√© sombra usar?**

| Componente | Shadow Recomendada | Jerarqu√≠a |
|-----------|-------------------|-----------|
| Divisores, separadores | `drop-3xs` | M√≠nima |
| Badges, tags | `drop-2xs` | Muy sutil |
| Chips, tooltips peque√±os | `drop-xs` | Sutil |
| **Buttons, small cards** | `drop-sm` | Peque√±a ‚≠ê |
| **Cards est√°ndar, dropdowns** | `drop-md` | Est√°ndar ‚≠ê |
| **Modales, popovers** | `drop-lg` | Elevada ‚≠ê |
| Dialogs importantes | `drop-xl` | M√°xima |
| Inputs (default) | `inner-xs` | Inset sutil |
| Wells, contenedores hundidos | `inner-sm` | Inset moderado |

---

## Mejores Pr√°cticas

### ‚úÖ S√ç hacer

```scss
// ‚úÖ Usar sombras para jerarqu√≠a
.card-primary {
  box-shadow: var(--shadow-drop-lg); // M√°s importante
}

.card-secondary {
  box-shadow: var(--shadow-drop-sm); // Menos importante
}

// ‚úÖ Transiciones suaves
.card {
  transition: box-shadow 0.2s ease;
}

// ‚úÖ Combinar con transform para realismo
.btn:active {
  box-shadow: var(--shadow-inner-xs);
  transform: translateY(1px);
}
```

### ‚ùå NO hacer

```scss
// ‚ùå No mezclar sombras inconsistentemente
.card-a { box-shadow: var(--shadow-drop-xl); }
.card-b { box-shadow: var(--shadow-drop-xs); } // Sin raz√≥n clara

// ‚ùå No usar sombras como √∫nico indicador de interactividad
.button {
  box-shadow: var(--shadow-drop-lg); // Demasiado prominente sin contexto
}

// ‚ùå No usar valores arbitrarios
.custom {
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); // Usar tokens
}
```

---

## Accesibilidad

- **No confiar solo en sombras**: Las sombras son decorativas, no deben ser el √∫nico indicador de estado o interactividad
- **Contraste adecuado**: Asegurar contraste suficiente en contenido independientemente de las sombras
- **Focus visible**: Los estados de focus deben ser claramente visibles, no solo con sombras
- **Motion**: Respetar `prefers-reduced-motion` en transiciones de sombras

```scss
@media (prefers-reduced-motion: reduce) {
  .card {
    transition: none; // Desactivar transiciones de sombras
  }
}
```

---

## Migraci√≥n y Estado Actual

### ‚úÖ Completado
- Definici√≥n de escalas drop e inner
- Nomenclatura consistente (3xs ‚Üí xl)
- Multi-layer shadows para realismo

### üöß En Proceso
- Implementaci√≥n como CSS variables
- Conversi√≥n desde Figma Styles
- Documentaci√≥n de uso por componente

### ‚ùå Pendiente
- Soporte nativo en Figma Variables
- Semantic tokens para v3.0 (ej: `button/shadow`, `card/shadow`)
- Shadows responsive (reducci√≥n en mobile para performance)
