import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Bioma 2.1/Getting Started/Installation" />

# Instalaci√≥n

Gu√≠a paso a paso para instalar y configurar Bioma 2.0 Design System en tu proyecto Angular.

---

## üìã Requisitos Previos

Antes de instalar Bioma, aseg√∫rate de tener:

- **Node.js**: v18 o superior
- **npm**: v9 o superior
- **Angular**: v21.0 o superior
- **TypeScript**: v5.9 o superior

Verifica tus versiones:
```bash
node --version
npm --version
ng version
```

---

## üì¶ Instalaci√≥n v√≠a NPM

### Opci√≥n 1: Desde NPM Registry (Pr√≥ximamente)

```bash
npm install @mgomezw/bioma
```

### Opci√≥n 2: Instalaci√≥n Local (Desarrollo)

Si est√°s trabajando en el repositorio local:

```bash
# Clona el repositorio
git clone https://github.com/mgomez-ext/bioma.git
cd bioma

# Instala dependencias
npm install

# Compila la librer√≠a
npm run build:lib

# Empaqueta
npm run pack:lib

# Instala en tu proyecto
cd /ruta/a/tu/proyecto
npm install /ruta/a/bioma/dist/bioma-design-system/bioma-design-system-0.1.0.tgz
```

---

## ‚öôÔ∏è Configuraci√≥n

### 1. Importar Estilos Globales

Agrega los estilos de Bioma en tu `angular.json`:

```json
{
  "projects": {
    "tu-proyecto": {
      "architect": {
        "build": {
          "options": {
            "styles": [
              "node_modules/@mgomezw/bioma/src/styles/tokens.scss",
              "src/styles.scss"
            ]
          }
        }
      }
    }
  }
}
```

O importa en tu `styles.scss` principal:

```scss
// src/styles.scss
@import '@mgomezw/bioma/src/styles/tokens.scss';
```

### 2. Configurar Tipograf√≠a (Opcional)

Si quieres usar las fuentes de Bioma, agrega en tu `index.html`:

```html
<!-- src/index.html -->
<head>
  <!-- Google Fonts - Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Material Symbols Rounded -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
</head>
```

### 3. Configurar Bootstrap (Opcional)

Si tu proyecto no usa Bootstrap pero quieres las utilidades de grid:

```bash
npm install bootstrap@5.3.3
```

```json
// angular.json
{
  "styles": [
    "node_modules/bootstrap/scss/bootstrap-grid.scss",
    // ... otros estilos
  ]
}
```

---

## üß© Uso B√°sico

### Importar Componentes

Como todos los componentes son standalone, la importaci√≥n es simple:

```typescript
// app.component.ts
import { Component } from '@angular/core';
import { ButtonComponent } from '@mgomezw/bioma';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [ButtonComponent],
  template: `
    <bio-button
      label="Click Me"
      variant="filled"
      size="large">
    </bio-button>
  `
})
export class AppComponent {}
```

### Usar M√∫ltiples Componentes

```typescript
import { Component } from '@angular/core';
import {
  ButtonComponent,
  // InputComponent,    // Pr√≥ximamente
  // CheckboxComponent  // Pr√≥ximamente
} from '@mgomezw/bioma';

@Component({
  selector: 'app-form',
  standalone: true,
  imports: [
    ButtonComponent,
    // InputComponent,
    // CheckboxComponent
  ],
  template: `
    <form>
      <!-- Componentes aqu√≠ -->
      <bio-button label="Submit" variant="filled"></bio-button>
    </form>
  `
})
export class FormComponent {}
```

---

## üé® Usar Tokens de Dise√±o

Los tokens est√°n disponibles como CSS custom properties:

```scss
// tu-componente.component.scss
.mi-componente {
  // Colores
  color: var(--text-primary);
  background: var(--bg-default);

  // Espaciado
  padding: var(--spacing-4);
  margin-bottom: var(--spacing-6);

  // Bordes
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);

  // Sombras
  box-shadow: var(--shadow-sm);

  // Transiciones
  transition: all var(--transition-normal);

  &:hover {
    background: var(--bg-subtle);
  }
}
```

---

## üåó Soporte para Modo Oscuro

### Opci√≥n 1: Nivel de Aplicaci√≥n

```typescript
// app.component.ts
@Component({
  selector: 'app-root',
  template: `
    <div [attr.data-theme]="theme">
      <!-- Tu app aqu√≠ -->
    </div>
  `
})
export class AppComponent {
  theme: 'light' | 'dark' = 'light';

  toggleTheme() {
    this.theme = this.theme === 'light' ? 'dark' : 'light';
  }
}
```

### Opci√≥n 2: Nivel de Sistema

```typescript
// theme.service.ts
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class ThemeService {
  private theme: 'light' | 'dark' = 'light';

  constructor() {
    // Detectar preferencia del sistema
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    this.theme = prefersDark ? 'dark' : 'light';
    this.applyTheme();
  }

  toggleTheme() {
    this.theme = this.theme === 'light' ? 'dark' : 'light';
    this.applyTheme();
  }

  private applyTheme() {
    document.documentElement.setAttribute('data-theme', this.theme);
  }
}
```

---

## üîß Configuraci√≥n Avanzada

### TypeScript Path Mapping

Para imports m√°s limpios, configura path mapping en `tsconfig.json`:

```json
{
  "compilerOptions": {
    "paths": {
      "@bioma/*": ["node_modules/@mgomezw/bioma/src/*"]
    }
  }
}
```

Luego puedes importar as√≠:

```typescript
import { ButtonComponent } from '@bioma/app/components/button/button.component';
```

### Tree-Shaking Optimization

Los componentes standalone ya est√°n optimizados, pero puedes mejorar a√∫n m√°s:

```json
// angular.json
{
  "configurations": {
    "production": {
      "optimization": true,
      "buildOptimizer": true,
      "namedChunks": false
    }
  }
}
```

---

## ‚úÖ Verificar Instalaci√≥n

Ejecuta Storybook para ver todos los componentes disponibles:

```bash
cd node_modules/@mgomezw/bioma
npm run storybook
```

O crea un componente de prueba:

```typescript
// test.component.ts
import { Component } from '@angular/core';
import { ButtonComponent } from '@mgomezw/bioma';

@Component({
  selector: 'app-test',
  standalone: true,
  imports: [ButtonComponent],
  template: `
    <div style="padding: 2rem;">
      <h1>Bioma Installation Test</h1>
      <bio-button label="Test Button" variant="filled"></bio-button>
    </div>
  `
})
export class TestComponent {}
```

Si ves el bot√≥n con los estilos correctos, ¬°la instalaci√≥n fue exitosa! ‚úÖ

---

## üêõ Soluci√≥n de Problemas

### Error: Cannot find module '@mgomezw/bioma'

**Soluci√≥n**: Verifica que el paquete est√© instalado:
```bash
npm list @mgomezw/bioma
```

Si no aparece, reinstala:
```bash
npm install @mgomezw/bioma
```

### Los estilos no se aplican

**Soluci√≥n**: Verifica que los estilos est√©n importados en `angular.json` o `styles.scss`.

### Los tokens CSS no funcionan

**Soluci√≥n**: Aseg√∫rate de que `tokens.scss` est√© importado ANTES de tus estilos personalizados.

### Errores de TypeScript

**Soluci√≥n**: Verifica tu versi√≥n de TypeScript:
```bash
npm list typescript
```

Bioma requiere TypeScript 5.9 o superior.

---

## üéØ Siguiente Paso

üëâ [Quick Start - Crea tu primer componente](/docs/getting-started-quickstart--docs)
